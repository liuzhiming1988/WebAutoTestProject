#!/usr/bin/env python
# -*- coding:utf-8 -*-
# @Author:MikingZhang


''' 估价服务  -  3-估价计算接口（可跑全量数据） -  http://wiki.huishoubao.com/index.php?s=/138&page_id=2213
    该接口不做任何数据库读写，可以实时计算估价和跑产品全量估价数据。

	1. 对应服务 rpc_evaluate_server（服务器应用名：rpc_evaluate_server）
'''
import requests, json, os
from price.hsb_ipProxy_responsePrint import hsb_eva_ipProxy_test,hsb_response_print

def evaluatesum():
    param = {"head":{"interface":"evaluatesum","msgtype":"request","remark":"","version":"0.01"},"params":{"interface":"evaluatesum","ip":"127.0.0.1","itemGroup":{"itemLevel":[{"itemGroup":[[{"itemId":"24","itemName":"不能正常开机","itemQueId":"22","itemQueName":"开机"}],[{"itemId":"82","itemName":"iCloud账号无法退出登录","itemQueId":"81","itemQueName":"iCloud"}]],"level":"10"},{"itemGroup":[[{"itemId":"236","itemName":"无法显示","itemQueId":"67","itemQueName":"屏幕显示"}]],"level":"15"},{"itemGroup":[[{"itemId":"61","itemName":"修主板/多次维修","itemQueId":"60","itemQueName":"维修"},{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"}],[{"itemId":"61","itemName":"修主板/多次维修","itemQueId":"60","itemQueName":"维修"},{"itemId":"3245","itemName":"触摸屏失灵/部分失灵","itemQueId":"1461","itemQueName":"触屏功能"}],[{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"61","itemName":"修主板/多次维修","itemQueId":"60","itemQueName":"维修"}],[{"itemId":"3247","itemName":"显示异常（横竖线/漏液/闪屏等）","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"61","itemName":"修主板/多次维修","itemQueId":"60","itemQueName":"维修"}],[{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"},{"itemId":"58","itemName":"机身进水/受潮","itemQueId":"57","itemQueName":"进水"}],[{"itemId":"3245","itemName":"触摸屏失灵/部分失灵","itemQueId":"1461","itemQueName":"触屏功能"},{"itemId":"58","itemName":"机身进水/受潮","itemQueId":"57","itemQueName":"进水"}],[{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"58","itemName":"机身进水/受潮","itemQueId":"57","itemQueName":"进水"}],[{"itemId":"3247","itemName":"显示异常（横竖线/漏液/闪屏等）","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"58","itemName":"机身进水/受潮","itemQueId":"57","itemQueName":"进水"}]],"level":"20"},{"itemGroup":[[{"itemId":"3243","itemName":"机身弯曲或断裂","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"58","itemName":"机身进水/受潮","itemQueId":"57","itemQueName":"进水"}],[{"itemId":"3243","itemName":"机身弯曲或断裂","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"}],[{"itemId":"3243","itemName":"机身弯曲或断裂","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"3247","itemName":"显示异常（横竖线/漏液/闪屏等）","itemQueId":"67","itemQueName":"屏幕显示"}],[{"itemId":"3243","itemName":"机身弯曲或断裂","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"}],[{"itemId":"3243","itemName":"机身弯曲或断裂","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"3245","itemName":"触摸屏失灵/部分失灵","itemQueId":"1461","itemQueName":"触屏功能"}]],"level":"25"},{"itemGroup":[[{"itemId":"58","itemName":"机身进水/受潮","itemQueId":"57","itemQueName":"进水"}],[{"itemId":"61","itemName":"修主板/多次维修","itemQueId":"60","itemQueName":"维修"}],[{"itemId":"1077","itemName":"Face ID无法录入和识别","itemQueId":"1076","itemQueName":"Face ID"}]],"level":"30"},{"itemGroup":[[{"itemId":"3245","itemName":"触摸屏失灵/部分失灵","itemQueId":"1461","itemQueName":"触屏功能"}]],"level":"35"},{"itemGroup":[[{"itemId":"56","itemName":"WIFI/蓝牙不正常","itemQueId":"54","itemQueName":"WIFI"}],[{"itemId":"3243","itemName":"机身弯曲或断裂","itemQueId":"76","itemQueName":"机身外观"}],[{"itemId":"66","itemName":"通话不正常","itemQueId":"64","itemQueName":"通话"}]],"level":"40"},{"itemGroup":[[{"itemId":"3242","itemName":"外壳有破损/变形/缺失","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"}],[{"itemId":"3242","itemName":"外壳有破损/变形/缺失","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"}]],"level":"42"},{"itemGroup":[[{"itemId":"62","itemName":"小维修/小故障","itemQueId":"60","itemQueName":"维修"},{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"}],[{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"62","itemName":"小维修/小故障","itemQueId":"60","itemQueName":"维修"}],[{"itemId":"3242","itemName":"外壳有破损/变形/缺失","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"62","itemName":"小维修/小故障","itemQueId":"60","itemQueName":"维修"}],[{"itemId":"62","itemName":"小维修/小故障","itemQueId":"60","itemQueName":"维修"},{"itemId":"224","itemName":"拍照摄像不正常","itemQueId":"222","itemQueName":"拍照摄像"}],[{"itemId":"3242","itemName":"外壳有破损/变形/缺失","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"224","itemName":"拍照摄像不正常","itemQueId":"222","itemQueName":"拍照摄像"}],[{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"224","itemName":"拍照摄像不正常","itemQueId":"222","itemQueName":"拍照摄像"}],[{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"},{"itemId":"224","itemName":"拍照摄像不正常","itemQueId":"222","itemQueName":"拍照摄像"}]],"level":"45"},{"itemGroup":[[{"itemId":"3247","itemName":"显示异常（横竖线/漏液/闪屏等）","itemQueId":"67","itemQueName":"屏幕显示"}]],"level":"48"},{"itemGroup":[[{"itemId":"3244","itemName":"屏幕有碎裂/缺角/脱胶/气泡","itemQueId":"72","itemQueName":"屏幕外观"},{"itemId":"68","itemName":"显示色差，或轻微泛黄/亮坏点/进灰","itemQueId":"67","itemQueName":"屏幕显示"}]],"level":"50"},{"itemGroup":[[{"itemId":"224","itemName":"拍照摄像不正常","itemQueId":"222","itemQueName":"拍照摄像"}],[{"itemId":"2170","itemName":"屏幕更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"}],[{"itemId":"69","itemName":"显示发黄，或透图/透字/色斑","itemQueId":"67","itemQueName":"屏幕显示"}],[{"itemId":"3242","itemName":"外壳有破损/变形/缺失","itemQueId":"76","itemQueName":"机身外观"}]],"level":"52"},{"itemGroup":[[{"itemId":"62","itemName":"小维修/小故障","itemQueId":"60","itemQueName":"维修"}]],"level":"56"},{"itemGroup":[[{"itemId":"3244","itemName":"屏幕有碎裂/缺角/脱胶/气泡","itemQueId":"72","itemQueName":"屏幕外观"}]],"level":"58"},{"itemGroup":[[{"itemId":"5534","itemName":"电池更换/维修","itemQueId":"5533","itemQueName":"电池"}]],"level":"60"},{"itemGroup":[[{"itemId":"68","itemName":"显示色差，或轻微泛黄/亮坏点/进灰","itemQueId":"67","itemQueName":"屏幕显示"}]],"level":"62"},{"itemGroup":[[{"itemId":"6930","itemName":"拍照有斑","itemQueId":"6929","itemQueName":"拍照"}]],"level":"64"},{"itemGroup":[[{"itemId":"79","itemName":"外观有磕碰或掉漆","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"5531","itemName":"屏幕明显划痕","itemQueId":"72","itemQueName":"屏幕外观"}]],"level":"66"},{"itemGroup":[[{"itemId":"79","itemName":"外观有磕碰或掉漆","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"5530","itemName":"屏幕轻微划痕","itemQueId":"72","itemQueName":"屏幕外观"}]],"level":"70"},{"itemGroup":[[{"itemId":"79","itemName":"外观有磕碰或掉漆","itemQueId":"76","itemQueName":"机身外观"}]],"level":"72"},{"itemGroup":[[{"itemId":"7642","itemName":"声音/麦克风/按键/充电/震动不正常","itemQueId":"7640","itemQueName":"小故障项"}]],"level":"74"},{"itemGroup":[[{"itemId":"5531","itemName":"屏幕明显划痕","itemQueId":"72","itemQueName":"屏幕外观"}]],"level":"75"},{"itemGroup":[[{"itemId":"78","itemName":"外观轻微划痕或轻微磕碰","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"5530","itemName":"屏幕轻微划痕","itemQueId":"72","itemQueName":"屏幕外观"}]],"level":"80"},{"itemGroup":[[{"itemId":"78","itemName":"外观轻微划痕或轻微磕碰","itemQueId":"76","itemQueName":"机身外观"}],[{"itemId":"5530","itemName":"屏幕轻微划痕","itemQueId":"72","itemQueName":"屏幕外观"}]],"level":"85"},{"itemGroup":[[{"itemId":"21","itemName":"二手","itemQueId":"19","itemQueName":"成色"}]],"level":"90"},{"itemGroup":[[{"itemId":"83","itemName":"iCloud账号可退出登录","itemQueId":"81","itemQueName":"iCloud"},{"itemId":"77","itemName":"外观完好，无任何使用痕迹","itemQueId":"76","itemQueName":"机身外观"},{"itemId":"73","itemName":"屏幕完好，无任何划痕","itemQueId":"72","itemQueName":"屏幕外观"},{"itemId":"71","itemName":"显示完美，无瑕疵","itemQueId":"67","itemQueName":"屏幕显示"},{"itemId":"63","itemName":"无拆机无维修","itemQueId":"60","itemQueName":"维修"},{"itemId":"23","itemName":"正常开机","itemQueId":"22","itemQueName":"开机"},{"itemId":"65","itemName":"通话正常","itemQueId":"64","itemQueName":"通话"},{"itemId":"2171","itemName":"屏幕未更换/维修","itemQueId":"2169","itemQueName":"屏幕更换"},{"itemId":"5535","itemName":"电池未更换","itemQueId":"5533","itemQueName":"电池"},{"itemId":"3246","itemName":"触摸屏正常","itemQueId":"1461","itemQueName":"触屏功能"},{"itemId":"223","itemName":"拍照摄像正常","itemQueId":"222","itemQueName":"拍照摄像"},{"itemId":"6931","itemName":"拍照无斑","itemQueId":"6929","itemQueName":"拍照"},{"itemId":"59","itemName":"无进水","itemQueId":"57","itemQueName":"进水"},{"itemId":"55","itemName":"WIFI正常","itemQueId":"54","itemQueName":"WIFI"},{"itemId":"7641","itemName":"声音/麦克风/按键/充电/震动正常","itemQueId":"7640","itemQueName":"小故障项"},{"itemId":"1078","itemName":"Face ID正常","itemQueId":"1076","itemQueName":"Face ID"},{"itemId":"20","itemName":"全新(整套/未激活/未使用)","itemQueId":"19","itemQueName":"成色"}]],"level":"100"}],"levelLimit":[{"lType":"1","lValue":"3","level":"10","uType":"1","uValue":"3"},{"lType":"1","lValue":"5","level":"15","uType":"1","uValue":"5"},{"lType":"1","lValue":"30","level":"20","uType":"1","uValue":"30"},{"lType":"1","lValue":"32","level":"25","uType":"1","uValue":"32"},{"lType":"1","lValue":"42","level":"30","uType":"1","uValue":"42"},{"lType":"1","lValue":"45","level":"35","uType":"1","uValue":"45"},{"lType":"1","lValue":"50","level":"40","uType":"1","uValue":"50"},{"lType":"1","lValue":"60","level":"42","uType":"1","uValue":"60"},{"lType":"1","lValue":"63","level":"45","uType":"1","uValue":"63"},{"lType":"1","lValue":"65","level":"48","uType":"1","uValue":"65"},{"lType":"1","lValue":"68","level":"50","uType":"1","uValue":"68"},{"lType":"1","lValue":"76","level":"52","uType":"1","uValue":"76"},{"lType":"1","lValue":"80","level":"56","uType":"1","uValue":"80"},{"lType":"1","lValue":"80","level":"58","uType":"1","uValue":"80"},{"lType":"1","lValue":"88","level":"60","uType":"1","uValue":"88"},{"lType":"1","lValue":"92","level":"62","uType":"1","uValue":"92"},{"lType":"1","lValue":"92","level":"64","uType":"1","uValue":"92"},{"lType":"1","lValue":"96","level":"66","uType":"1","uValue":"96"},{"lType":"1","lValue":"100","level":"70","uType":"1","uValue":"100"},{"lType":"1","lValue":"100","level":"72","uType":"1","uValue":"100"},{"lType":"1","lValue":"96","level":"74","uType":"1","uValue":"96"},{"lType":"1","lValue":"106","level":"75","uType":"1","uValue":"106"},{"lType":"1","lValue":"108","level":"80","uType":"1","uValue":"108"},{"lType":"1","lValue":"108","level":"85","uType":"1","uValue":"108"},{"lType":"1","lValue":"116","level":"90","uType":"1","uValue":"116"},{"lType":"1","lValue":"123","level":"100","uType":"1","uValue":"123"}],"limitType":{"0":"无","1":"百分比","2":"绝对值"}},"productitems":{"item":[{"conf_type_id":"1","item_id":"12","parent_id":"11","type_id":"1","value":"99"},{"conf_type_id":"1","item_id":"13","parent_id":"11","type_id":"1","value":"82"},{"conf_type_id":"1","item_id":"14","parent_id":"11","type_id":"1","value":"82"},{"conf_type_id":"1","item_id":"1124","parent_id":"11","type_id":"1","value":"76"},{"conf_type_id":"1","item_id":"15","parent_id":"11","type_id":"1","value":"66"},{"conf_type_id":"1","item_id":"17","parent_id":"16","type_id":"1","value":"100"},{"conf_type_id":"1","item_id":"18","parent_id":"16","type_id":"1","value":"95"},{"conf_type_id":"1","item_id":"36","parent_id":"32","type_id":"1","value":"79"},{"conf_type_id":"1","item_id":"38","parent_id":"32","type_id":"1","value":"95"},{"conf_type_id":"1","item_id":"42","parent_id":"39","type_id":"1","value":"100"},{"conf_type_id":"1","item_id":"1091","parent_id":"39","type_id":"1","value":"100"},{"conf_type_id":"1","item_id":"1083","parent_id":"918","type_id":"1","value":"88"},{"conf_type_id":"1","item_id":"1634","parent_id":"918","type_id":"1","value":"88"},{"conf_type_id":"1","item_id":"1633","parent_id":"918","type_id":"1","value":"100"},{"conf_type_id":"2","item_id":"83","parent_id":"81","type_id":"1","value":"100"},{"conf_type_id":"2","item_id":"82","parent_id":"81","type_id":"1","value":"100"},{"conf_type_id":"2","item_id":"77","parent_id":"76","type_id":"3","value":"100"},{"conf_type_id":"2","item_id":"78","parent_id":"76","type_id":"3","value":"100"},{"conf_type_id":"2","item_id":"79","parent_id":"76","type_id":"3","value":"100"},{"conf_type_id":"2","item_id":"3242","parent_id":"76","type_id":"3","value":"100"},{"conf_type_id":"2","item_id":"3243","parent_id":"76","type_id":"3","value":"100"},{"conf_type_id":"2","item_id":"73","parent_id":"72","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"5530","parent_id":"72","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"5531","parent_id":"72","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"3244","parent_id":"72","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"71","parent_id":"67","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"68","parent_id":"67","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"69","parent_id":"67","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"3247","parent_id":"67","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"236","parent_id":"67","type_id":"2","value":"100"},{"conf_type_id":"2","item_id":"63","parent_id":"60","type_id":"4","value":"100"},{"conf_type_id":"2","item_id":"62","parent_id":"60","type_id":"4","value":"100"},{"conf_type_id":"2","item_id":"61","parent_id":"60","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"23","parent_id":"22","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"24","parent_id":"22","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"65","parent_id":"64","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"66","parent_id":"64","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"2171","parent_id":"2169","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"2170","parent_id":"2169","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"5535","parent_id":"5533","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"5534","parent_id":"5533","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"3246","parent_id":"1461","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"3245","parent_id":"1461","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"223","parent_id":"222","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"224","parent_id":"222","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"6931","parent_id":"6929","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"6930","parent_id":"6929","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"59","parent_id":"57","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"58","parent_id":"57","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"55","parent_id":"54","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"56","parent_id":"54","type_id":"4","value":"100"},{"conf_type_id":"3","item_id":"7641","parent_id":"7640","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"7642","parent_id":"7640","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"1078","parent_id":"1076","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"1077","parent_id":"1076","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"21","parent_id":"19","type_id":"1","value":"100"},{"conf_type_id":"3","item_id":"20","parent_id":"19","type_id":"1","value":"100"}],"weight":[{"originValue":"0","type_id":"1","type_name":"整机类","value":"100"},{"originValue":"0","type_id":"2","type_name":"屏幕类","value":"30"},{"originValue":"0","type_id":"3","type_name":"外观类","value":"30"},{"originValue":"0","type_id":"4","type_name":"主板类","value":"40"}]},"select":["12","18","38","1091","1633","83","77","73","71","63","23","65","2171","5535","3246","223","6931","59","55","7641","1078","20"],"server":"eva_server","standprice":"278000","userid":"xxx"}}

    headers = {"Content-Type":"application/json;charset=UTF-8"}
    url = "http://evaserver.huishoubao.com/rpc/evaluate"    # 大质检 /rpc/evaluate
    respone = requests.post(url, json=param, headers=headers, proxies=hsb_eva_ipProxy_test())
    hsb_response_print(respone=respone)

if __name__ == '__main__':
    evaluatesum()

''' 估价后台 - 新产品库 - 2C估价 - 机型调价详情页 - 价格数据预览 - 价格计算 '''